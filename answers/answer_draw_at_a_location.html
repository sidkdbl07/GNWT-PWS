<template name="answer_draw_at_a_location">
  <div class="row" style="margin-top: 20px;">
    {{#if group.use_map}}
    <div class="col s7">
      <div style="width: 100%; height: 300px;" class="grey lighten-3">
        <div style="width: 100%; height: 0px;">
          <button id="btn_zoomout" class="toolbar_button waves-effect waves-light btn-floating white-text purple"><i class="mdi-content-remove"></i></button>
          <button id="btn_zoomin" class="toolbar_button waves-effect waves-light btn-floating white-text purple"><i class="mdi-content-add"></i></button>
        </div>
        <div style="width: 100%; height: 100%;" id="map_wrapper">
          <div class="answer-leaflet-map">
            <div id='answer-map'></div>
          </div>
        </div>
      </div>
    </div>
    {{/if}}
    <div class="col {{#if group.use_map}}s5{{else}}s11 offset-s1{{/if}}">
      {{#each questions_in_group}}
        <!-- Use has_decision_point qig_id here -->
        <div style="width: 100%;">{{> question_to_answer question_id}}</div>
      {{/each}}
    </div>
  </div>
</template>

<template name="question_to_answer">
  {{#with question this}}
    <div class="col s12 card grey lighten-3">
      <div class="card-content">
        <form id="{{_id}}">
          <input type="hidden" name="question_id" value="{{_id}}" />

        {{#if is_multiple_choice _id}}
          <div class="row" style="margin-bottom: 20px;">
            <div class="input-field col s11">
              <select>
                <option value="">No Answer Given</option>
              {{#each allowed_values}}
                <option value="{{value}}">{{value}}</option>
              {{/each}}
              </select>
              <label>{{text}}</label>
            </div>
          </div>
        {{/if}}

        {{#if is_geo_point _id}}
          <div class="row" style="margin-bottom: 40px;">
            <div class="grey-text" style="font-size: 9pt; margin-bottom: 5px;">{{text}}</div>
            <div class="input-field col s12">
              {{#if has_answer _id}}
                <button type="button" id="btn_{{_id}}" class="btn btn-invisible btn-geo-point btn-geo waves-effect waves-light teal"><i class="mdi-content-add left"></i>{{label}}</button>
                <button type="button" class="btn btn-invisible btn-save waves-effect waves-light teal">Save</button>
                <button type="button" class="btn btn-delete waves-effect waves-light teal">Delete</button>
              {{else}}
                <button type="button" id="btn_{{_id}}" class="btn btn-geo-point btn-geo waves-effect waves-light teal"><i class="mdi-content-add left"></i>{{label}}</button>
                <button type="button" class="btn btn-invisible btn-save waves-effect waves-light teal">Save</button>
                <button type="button" class="btn btn-invisible btn-delete waves-effect waves-light teal">Delete</button>
              {{/if}}
            </div>
          </div>
        {{/if}}

        {{#if is_geo_area _id}}
          <div class="row" style="margin-bottom: 40px;">
            <div class="grey-text" style="font-size: 9pt; margin-bottom: 5px;">{{text}}</div>
            <div class="input-field col s12">
              {{#if has_answer _id}}
                <button type="button" id="btn_{{_id}}" class="btn btn-invisible btn-geo-area btn-geo waves-effect waves-light teal"><i class="mdi-content-add left"></i>{{label}}</button>
                <button type="button" class="btn btn-invisible btn-save waves-effect waves-light teal">Save</button>
                <button type="button" class="btn btn-delete waves-effect waves-light teal">Delete</button>
              {{else}}
                <button type="button" id="btn_{{_id}}" class="btn btn-geo-area btn-geo waves-effect waves-light teal"><i class="mdi-content-add left"></i>{{label}}</button>
                <button type="button" class="btn btn-invisible btn-save waves-effect waves-light teal">Save</button>
                <button type="button" class="btn btn-invisible btn-delete waves-effect waves-light teal">Delete</button>
              {{/if}}
            </div>
          </div>
        {{/if}}

        {{#if is_numeric _id}}
          <div class="row" style="margin-bottom: 20px;">
            <div class="input-field col s7">
              <input type="text" id="value_{{_id}}"/>
              <label for="value_{{_id}}">{{text}}</label>
            </div>
            <div class="input-field col s3 offset-s1">
              <select name="units_{{_id}}">
                <option value="">No Units</option>
                {{#each possible_units}}
                  <option>{{unit}}</option>
                {{/each}}
              </select>
              <label for="units_{{_id}}">Units</label>
            </div>
          </div>
        {{/if}}

        {{#if is_year _id}}
          <div class="row" style="margin-bottom: 20px;">
            <div class="input-field col s11">
              <select name="year_{{_id}}">
                <option value="">No Answer Given</option>
                {{#each years_for_year_question _id}}
                  <option value="{{year}}">{{year}}</option>
                <!-- Need a way to display all the of the years from min to current year -->
                {{/each}}
              </select>
              <label for="year_{{_id}}">{{text}}</label>
            </div>
          </div>
        {{/if}}
      </form>
      <div class="row">
        <div class="col s3"><button class="photo waves-effect waves-light btn-flat btn-large transparent disabled"><i class="mdi-editor-insert-photo"></i></button></div>
        <div class="col s3"><button class="help waves-effect waves-light btn-flat btn-large transparent teal-text"><i class="mdi-communication-live-help left"></i>Help</button></div>
        <div class="col s3"><button class="comment waves-effect waves-light btn-flat btn-large transparent disabled"><i class="mdi-communication-messenger"></i></button></div>
      </div>
    </div>
  </div>
  {{/with}}
</template>
