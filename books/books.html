<template name="books">
  <div class="transitions-content">
    <div id="header" class="row">
      <div class="col s12">
        <div id="header_page_title">Books</div>
      </div>
    </div>
    <div class="row toolbar">
      <div class="col s12">
        {{#if isInRole 'admin' 'default_group'}}
        <a href="{{pathFor 'book_add'}}" data-transition-out="slideLeftOut" data-transition-in="slideLeftIn" class="waves-effect waves-light btn-floating btn-large green" ><i class="mdi-content-add"></i></a>
        {{/if}}
      </div>
    </div>
    <div class="content">
      <div class="row">
        <div style="col s12">
          <table width="100%" class="striped">
            <thead>
              <tr>
                <th width="80%">Name</th>
                <th width="20%"></th>
              </tr>
            </thead>
            <tbody>
              {{#if Template.subscriptionsReady}}
                {{#if all_books}}
                  {{#each all_books}}
                  <tr>
                    <td>{{name}}</td>
                    <td>
                      {{#if isInRole 'admin' 'default_group'}}<a href="{{pathFor 'book_edit' _id=this._id }}" data-transition-out="slideLeftOut" data-transition-in="slideLeftIn" class="btn waves-effect waves-light teal" ><i class="mdi-content-create left"></i>Edit</a>{{/if}}
                      <a href="{{pathFor 'book_view' _id=this._id }}" data-transition-out="slideLeftOut" data-transition-in="slideLeftIn" class="btn waves-effect waves-light btn-large btn-flat transparent teal-text" ><i class="mdi-content-send"></i></a>
                    </td>
                  </tr>
                  {{/each}}
                {{else}}
                  <tr>
                    <td>There are no books</td>
                    <td></td>
                  </tr>
                {{/if}}
              {{else}}
                {{> spinner}}
              {{/if}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</template>
